<!DOCTYPE html>
<html lang="pt-br"
	  xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}" xmlns:layout="http://www.w3.org/1999/xhtml">
	<head>
		<link rel="stylesheet" type="text/css" th:href="@{/css/kanban.css}" />
	</head>

	<body>
		<div layout:fragment="content">
			<div class="container-fluid">

				<div class="row">
					<div class="col">
						<!-- start page title -->
						<div class="page-title-box">
							<div class="page-title-right">
								<div class="app-search">
									<form>
										<div class="input-group">
											<input type="text" class="form-control" placeholder="Search...">
											<span class="mdi mdi-magnify search-icon"></span>
											<button class="input-group-text btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<i class="uil uil-sort-amount-down"></i>
											</button>
											<div class="dropdown-menu dropdown-menu-end">
												<a class="dropdown-item" href="#">Due Date</a>
												<a class="dropdown-item" href="#">Added Date</a>
												<a class="dropdown-item" href="#">Assignee</a>
											</div>
										</div>
									</form>
								</div>
							</div>
							<h4 class="page-title">Funil de atividades
								<a href="#" data-bs-toggle="modal" data-bs-target="#add-new-task-modal" class="btn btn-success btn-sm ms-3">Adicionar tarefa</a>

								<div class="btn-group ms-2" role="group" aria-label="Basic radio toggle button group">
									<input type="radio" class="btn-check d-inline-block" name="btnradio" id="btnBoard"
										   autocomplete="off" alt="Quadro" tabindex="0" data-toggle="tooltip" title="Quadro"
										   th:onclick="'location.href=\'' + @{/kanban} + '\';'" />
									<label class="btn btn-outline-success" for="btnBoard"><i class='bx bxs-objects-vertical-top'></i></label>

									<input type="radio" class="btn-check d-inline-block" name="btnradio" id="btnTable"
										   autocomplete="off" alt="Tabela" tabindex="0" data-toggle="tooltip" title="Tabela"
										   th:onclick="'location.href=\'' + @{/tasks} + '\';'" checked />
									<label class="btn btn-outline-success" for="btnTable"><i class='bx bx-table'></i></label>
								</div>
							</h4>
						</div>
						<!-- end page title -->

						<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
							<thead>
							<tr>
								<th class="col">Id</th>
								<th class="col">Bloco</th>
								<th class="col">Projeto</th>
								<th class="col">Descrição</th>
								<th class="col">Cliente</th>
								<th class="col">Responsável</th>
								<th class="col">Prazo</th>
								<th class="col">Colaboradores</th>
								<th class="col">Status</th>
								<th class="col">Ações</th>
							</tr>
							</thead>
							<tbody>
							<tr th:if="${taskPage.content.empty}">
								<td colspan="3"> Sem atividades disponíveis </td>
								<td class="col-sm-4">
									<div class="form-check">
										<input type="checkbox" class="form-check-input" id="task1">
										<label class="form-check-label" for="task1">
											Draft the new contract document for sales team
										</label>
									</div> <!-- end checkbox -->
								</td> <!-- end col -->
								<td colspan="1"> Sem atividades disponíveis </td>
								<td id="tooltip-container">
									<img th:src="@{/images/avatar.jpg}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Assigned to Arya S" data-bs-original-title="Assigned to Arya S">
								</td>

								<td>
									<i class="bx bx-calendar font-16 me-1"></i> Today 10am
								</td>

								<td>
									<i class="bx bx-comment-detail font-16 me-1"></i> 21
								</td>

								<td>
									<span class="badge badge-danger-lighten p-1">High</span>
								</td>

							</tr>
							<tr th:each="task, iStat : ${taskPage.content}" th:classappend="${task.active} ? '' : 'table-danger'">
								<td th:text="${task.id}" />
								<td th:text="${task.categories}" />
								<td th:text="${task.project.name}" />
								<td th:text="${task.customer.name}" />
								<td th:text="${task.deadline}" />
								<td th:text="${task.status}" />
								<td th:text="${task.description}" />
								<td th:text="${task.responsible}" />
								<td th:text="${task.observers}" />
								<td class="d-flex justify-content-around" style="cursor: pointer;">
									<a class="edit text-warning" title="Edit" data-toggle="tooltip" th:href="@{/tasks/edit/{id}(id=${task.id})}">
										<i class="bx bxs-pencil"></i>
									</a>
									<a class="delete text-danger" title="Delete" data-toggle="tooltip" th:href="@{/tasks/delete/{id}(id=${task.id})}">
										<i class="bx bxs-trash-alt"></i>
									</a>
								</td>
							</tr>
							</tbody>
						</table>
						<nav aria-label="Page navigation" class="paging">
							<ul class="pagination justify-content-end" th:if="${taskPage.totalPages > 0}">
								<li class="page-item" th:classappend="${!taskPage.hasPrevious() ? 'disabled' : ''}">
									<a class="page-link" th:href="@{/tasks(size=${taskPage.size}, page=${taskPage.number})}"
									   tabindex="-1">Anterior</a>
								</li>
								<li class="page-item"
									th:if="${taskPage.totalPages > 0}"
									th:each="pageNumber : ${pageNumbers}"
									th:classappend="${pageNumber==taskPage.number + 1} ? active">
									<a class="page-link"
									   th:href="@{/tasks(size=${taskPage.size}, page=${pageNumber})}"
									   th:text=${pageNumber}></a>
								</li>
								<li class="page-item" th:classappend="${!taskPage.hasNext() ? 'disabled' : ''}">
									<a class="page-link"
									   th:href="@{/tasks(size=${taskPage.size}, page=${taskPage.number + 2})}">Próximo</a>
								</li>
							</ul>
						</nav>

						<!-- upcoming tasks -->
						<div class="mt-4">

							<h5 class="m-0 pb-2">
								<a class="text-dark" data-bs-toggle="collapse" href="#upcomingTasks" role="button" aria-expanded="false" aria-controls="upcomingTasks">
									<i class="uil uil-angle-down font-18"></i>Upcoming <span class="text-muted">(5)</span>
								</a>
							</h5>

							<div class="collapse show" id="upcomingTasks">
								<div class="card mb-0">
									<div class="card-body">
										<!-- task -->
										<div class="row justify-content-sm-between">
											<div class="col-sm-6 mb-2 mb-sm-0">
												<div class="form-check">
													<input type="checkbox" class="form-check-input" id="task4">
													<label class="form-check-label" for="task4">
														Invite user to a project
													</label>
												</div> <!-- end checkbox -->
											</div> <!-- end col -->
											<div class="col-sm-6">
												<div class="d-flex justify-content-between">
													<div id="tooltip-container3">
														<img th:src="@{/images/avatar.jpg}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container3" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Assigned to James B" data-bs-original-title="Assigned to James B">
													</div>
													<div>
														<ul class="list-inline font-13 text-end">
															<li class="list-inline-item">
																<i class="uil uil-schedule font-16 me-1"></i> Tomorrow 7am
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-align-alt font-16 me-1"></i> 1/12
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-comment-message font-16 me-1"></i> 36
															</li>
															<li class="list-inline-item ms-2">
																<span class="badge badge-danger-lighten p-1">High</span>
															</li>
														</ul>
													</div>
												</div> <!-- end .d-flex-->
											</div> <!-- end col -->
										</div>
										<!-- end task -->

										<!-- task -->
										<div class="row justify-content-sm-between mt-2">
											<div class="col-sm-6 mb-2 mb-sm-0">
												<div class="form-check">
													<input type="checkbox" class="form-check-input" id="task5">
													<label class="form-check-label" for="task5">
														Enable analytics tracking
													</label>
												</div> <!-- end checkbox -->
											</div> <!-- end col -->
											<div class="col-sm-6">
												<div class="d-flex justify-content-between">
													<div id="tooltip-container4">
														<img th:src="@{/images/avatar.jpg}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container4" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Assigned to James B" data-bs-original-title="Assigned to James B">
													</div>
													<div>
														<ul class="list-inline font-13 text-end">
															<li class="list-inline-item">
																<i class="uil uil-schedule font-16 me-1"></i> 27 Aug 10am
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-align-alt font-16 me-1"></i> 13/72
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-comment-message font-16 me-1"></i> 211
															</li>
															<li class="list-inline-item ms-2">
																<span class="badge badge-success-lighten p-1">Low</span>
															</li>
														</ul>
													</div>
												</div> <!-- end .d-flex-->
											</div> <!-- end col -->
										</div>
										<!-- end task -->

										<!-- task -->
										<div class="row justify-content-sm-between mt-2">
											<div class="col-sm-6 mb-2 mb-sm-0">
												<div class="form-check">
													<input type="checkbox" class="form-check-input" id="task6">
													<label class="form-check-label" for="task6">
														Code HTML email template
													</label>
												</div> <!-- end checkbox -->
											</div> <!-- end col -->
											<div class="col-sm-6">
												<div class="d-flex justify-content-between">
													<div id="tooltip-container5">
														<img th:src="@{/images/avatar.jpg}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container5" data-bs-toggle="tooltip" data-bs-placement="bottom" aria-label="Assigned to Edward S" data-bs-original-title="Assigned to Edward S">
													</div>
													<div>
														<ul class="list-inline font-13 text-end mb-0">
															<li class="list-inline-item">
																<i class="uil uil-schedule font-16 me-1"></i> No Due Date
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-align-alt font-16 me-1"></i> 0/7
															</li>
															<li class="list-inline-item ms-1">
																<i class="uil uil-comment-message font-16 me-1"></i> 0
															</li>
															<li class="list-inline-item ms-2">
																<span class="badge badge-info-lighten p-1">Medium</span>
															</li>
														</ul>
													</div>
												</div> <!-- end .d-flex-->
											</div> <!-- end col -->
										</div>
										<!-- end task -->
									</div> <!-- end card-body-->
								</div> <!-- end card -->
							</div> <!-- end collapse-->
						</div>
						<!-- end upcoming tasks -->

					</div> <!-- end col -->

				</div>
				<!-- end row-->

			</div>
		</div>
	</body>
</html>
